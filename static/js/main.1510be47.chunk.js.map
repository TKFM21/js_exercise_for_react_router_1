{"version":3,"sources":["components/Button/Button.jsx","components/Home/Home.jsx","data_fetchers/QuizFetcher.js","models/Quiz.js","components/Quiz/Quiz.jsx","App.js","index.js"],"names":["Button","props","className","children","Home","to","QuizFetcher","axios","get","response","data","results","Quiz","question","correctAnswer","incorrectAnswers","this","_question","_correctAnswer","_incorrectAnswers","_","shuffle","fetch","quizzes","map","quiz","he","decode","correct_answer","incorrect_answers","answer","state","currentIndex","numberOfCorrected","quizFetch","bind","setState","QuizModel","quizFetchAndCreateQuizInstances","window","alert","length","loadingRender","quizRender","onClick","answers","shuffledAnswers","index","key","judgeAndNextQuiz","React","Component","App","path","exact","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1510be47.chunk.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './Button.css';\r\n\r\nfunction Button(props) {\r\n    return (\r\n        <div className=\"btn\">\r\n            { props.children }\r\n        </div>\r\n    );\r\n}\r\n\r\nButton.propTypes = {\r\n    children: PropTypes.string.isRequired\r\n};\r\n\r\nexport default Button;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Button from '../Button/Button';\r\nimport './Home.css';\r\n\r\nfunction Home() {\r\n    return (\r\n        <div className=\"home\">\r\n            <h1>Home</h1>\r\n            <Link to=\"/quiz/\"><Button>Quizへ</Button></Link>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Home;","import axios from 'axios';\r\n\r\nconst API_URL = 'https://opentdb.com/api.php?amount=10&type=multiple';\r\n\r\nclass QuizFetcher {\r\n    static async fetch() {\r\n        const response = await axios.get(API_URL);\r\n        return response.data.results;\r\n    }\r\n}\r\n\r\nexport default QuizFetcher;","import QuizFetcher from '../data_fetchers/QuizFetcher';\r\nimport _ from 'lodash';\r\nimport he from 'he';\r\n\r\nclass Quiz{\r\n    constructor({ question, correctAnswer, incorrectAnswers }) {\r\n        this._question = question;\r\n        this._correctAnswer = correctAnswer;\r\n        this._incorrectAnswers = incorrectAnswers;\r\n    }\r\n\r\n    get question() {\r\n        return this._question;\r\n    }\r\n\r\n    get correctAnswer() {\r\n        return this._correctAnswer;\r\n    }\r\n\r\n    shuffledAnswers() {\r\n        return _.shuffle([ this._correctAnswer, ...this._incorrectAnswers ]);\r\n    }\r\n\r\n    static async quizFetchAndCreateQuizInstances() {\r\n        const quizzes = await QuizFetcher.fetch();\r\n        return quizzes.map( quiz => {\r\n            const quizData = {\r\n                question: he.decode(quiz.question),\r\n                correctAnswer: he.decode(quiz.correct_answer),\r\n                incorrectAnswers: quiz.incorrect_answers.map( answer => he.decode(answer))\r\n            };\r\n            return new Quiz(quizData);\r\n        });\r\n    }\r\n}\r\n\r\nexport default Quiz;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport QuizModel from '../../models/Quiz';\r\nimport './Quiz.css';\r\nimport Button from '../Button/Button';\r\n\r\nclass Quiz extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            currentIndex: 0,\r\n            numberOfCorrected: 0,\r\n            quizzes: [],\r\n        };\r\n        this.quizFetch = this.quizFetch.bind(this);\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.quizFetch();\r\n    }\r\n\r\n    async quizFetch() {\r\n        this.setState({\r\n            currentIndex: 0,\r\n            numberOfCorrected: 0,\r\n            quizzes: [],\r\n        });\r\n        const quizzes = await QuizModel.quizFetchAndCreateQuizInstances();\r\n        this.setState({ quizzes });\r\n    }\r\n\r\n    judgeAndNextQuiz(quiz, answer) {\r\n        let { numberOfCorrected, currentIndex } = this.state;\r\n        if (quiz.correctAnswer === answer) {\r\n            numberOfCorrected++;\r\n            window.alert('正解！！');\r\n        } else {\r\n            window.alert(`間違い！！ 正解は：${ quiz.correctAnswer }`);\r\n        }\r\n        currentIndex++;\r\n        this.setState({ numberOfCorrected, currentIndex });\r\n    }\r\n\r\n    render() {\r\n        const { quizzes, currentIndex, numberOfCorrected } = this.state;\r\n        if (!quizzes.length && !currentIndex) {\r\n            // Loading画面へ\r\n            return this.loadingRender();\r\n        }\r\n        if (quizzes.length > 0 && currentIndex < quizzes.length - 1) {\r\n            const quiz = quizzes[currentIndex];\r\n            // クイズ表示画面へ\r\n            return this.quizRender(quiz);\r\n        }\r\n        return (\r\n            <div>\r\n                <h1>Quiz</h1>\r\n                <h2>Result</h2>\r\n                <h3>{ numberOfCorrected }/{ quizzes.length }</h3>\r\n                <div onClick={ this.quizFetch }><Button>Restart</Button></div>\r\n                <hr/>\r\n                <Link to=\"/\">Homeへ</Link>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    loadingRender() {\r\n        return (\r\n            <div>\r\n                <h1>Quiz</h1>\r\n                <p>Now Loading...</p>\r\n                <hr/>\r\n                <Link to=\"/\">Homeへ</Link>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    quizRender(quiz) {\r\n        const answers = quiz.shuffledAnswers().map( (answer, index) => {\r\n            return (\r\n                <li\r\n                    key={ index }\r\n                    onClick={ () => this.judgeAndNextQuiz(quiz, answer) }\r\n                >\r\n                    <Button>{ answer }</Button>\r\n                </li>\r\n            );\r\n        });\r\n        return (\r\n            <div>\r\n                <h1>Quiz</h1>\r\n                <h2>{ quiz.question }</h2>\r\n                <ul className=\"answers\">{ answers }</ul>\r\n                <hr/>\r\n                <Link to=\"/\">Homeへ</Link>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Quiz;","import React from 'react';\nimport {\n  HashRouter as Router,\n  Route\n} from 'react-router-dom';\nimport './App.css';\nimport Home from './components/Home/Home';\nimport Quiz from './components/Quiz/Quiz';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <Route path=\"/\" exact component={Home} />\n        <Route path=\"/quiz/\" exact component={Quiz} />\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}